######### pvc + StorageClass ####
keywords: 
provisioner
nfs_client
elasticsearch_master

StorageClassnam.name: nfs_client  < ---- StatefulSet.spec.volumeClaimTemplates.spec.storageClassName: nfs_client

apiVersion: v1                                                          apiVersion: apps/v1
items:                                                                  kind: StatefulSet
- allowVolumeExpansion: true                                            metadata:
  apiVersion: storage.k8s.io/v1                                           name: elasticsearch-master
  kind: StorageClass                                                      labels:
  metadata:                                                                 heritage: "Helm"
    annotations:                                                            release: "myes"
      storageclass.kubernetes.io/is-default-class: "true"                   chart: "elasticsearch"
      storageclass.kubesphere.io/supported_access_modes: \                  app: "elasticsearch-master"
	  '["ReadWriteOnce","ReadOnlyMany","ReadWriteMany"]'                  annotations:
    creationTimestamp: "2020-06-29T03:03:49Z"                               esMajorVersion: "7"
    labels:                                                             spec:
      app: nfs-client-provisioner                                         serviceName: elasticsearch-master-headless
      chart: nfs-client-provisioner-1.1.2                                 selector:
      heritage: Tiller                                                      matchLabels:
      release: nfs-client                                                     app: "elasticsearch-master"
    name: nfs_client                                                      replicas: 3
    resourceVersion: "3208"                                               podManagementPolicy: Parallel
    selfLink: /apis/storage.k8s.io/v1/storageclasses/nfs-client           updateStrategy:
    uid: e94aac50-d037-4fba-b8eb-8a086eba78a3                               type: RollingUpdate
  parameters:                                                             volumeClaimTemplates:
    archiveOnDelete: "false"                                              - metadata:
  provisioner: cluster.local/nfs-client-nfs-client-provisioner                name: elasticsearch_master
  reclaimPolicy: Delete                                                     spec:
  volumeBindingMode: Immediate                                                accessModes:
kind: List                                                                    - ReadWriteOnce
metadata:                                                                     resources:
  resourceVersion: ""                                                           requests:
  selfLink: ""                                                                    storage: 30Gi
                                                                              storageClassName: nfs_client
                                                                          template:
                                                                            metadata:
                                                                              name: "elasticsearch-master"
                                                                              labels:
                                                                                heritage: "Helm"
                                                                                release: "myes"
                                                                                chart: "elasticsearch"
                                                                                app: "elasticsearch-master"
                                                                              annotations:
                                                                                
                                                                            spec:
                                                                              containers:
                                                                              - name: "elasticsearch"
                                                                                securityContext:
                                                                                  capabilities:
                                                                                    drop:
                                                                                    - ALL
                                                                                  runAsNonRoot: true
                                                                                  runAsUser: 1000
                                                                                image: "docker.elastic.co/elasticsearch/elasticsearch:7.5.2"
                                                                                imagePullPolicy: "IfNotPresent"
                                                                                volumeMounts:
                                                                                  - name: "elasticsearch_master"
                                                                                    mountPath: /usr/share/elasticsearch/data































